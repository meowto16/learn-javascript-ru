# Особенности работы this со стрелочными функциями

Вкратце: контекст обычных функций зависит от места вызова, а контекст
стрелочных функций - от того места, где они были определены.

> Примечание: примеры ниже приведены для Node.js. 
> В браузере this по умолчанию будет содержать глобальный объект Window.

Здесь поведение функций не отличается, так как контекстом вызова у обеих функций является сам модуль, 
а в es6 `this` у модулей не определен.
```javascript
const f1 = () => { // стрелочная функция
  console.log(this);
};

f1(); // undefined

function f2() { // обычная функция
  console.log(this);
}

f2(); // undefined
```

**Стрелочная функция не имеет своего контекста, она связывается с лексическим окружением, 
то есть функцией, внутри которой определена стрелочная функция.**
```javascript
const obj = {
  f1, f2,
};

obj.f1(); // undefined
obj.f2(); // { f1: [Function: f1], f2: [Function: f2] }
```

Это поведение нельзя изменить с помощью функций `call` или `bind`.
```javascript
f1.call({ name: 'hexlet' }); // undefined
f1.bind({ name: 'hexlet' })(); // undefined
```

## Общими словами

Стрелочная функция не имеет своего контекста. Она заимствует его из лексического окружения
внешней функции, в которой определена.