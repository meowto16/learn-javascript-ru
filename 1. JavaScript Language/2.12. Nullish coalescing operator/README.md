# Оператор слияния с null '??'

Оператор '??':

- Возвращает первый операнд, если он не является `null` или `undefined`
- Возвращает второй операнд, если первый является `null` или `undefined`

Этот оператор является аналогом вот такой записи:

```js
result = (a !== null && a !== undefined) ? a : b;
```

## Сравнение с `||`

Ранее, в JS для такой проверки использовался `||` оператор. Но его проблема в том,
что он пропускает все falsy-значения

Т.е например если мы решим проверить:

```js
let height = 0;

alert(height || 100); // 100, 0 - это falsy значение, поэтому возвращает 100
alert(height ?? 100); // 0, 0 - это не null/undefined, поэтому возвращает 0
```

- `||` возвращает первое истинное значение.
- `??` возвращает первое определённое значение.

## Приоритет

Не стоит забывать, что `??` имеет низкий приоритет `5`.

```js
let height = null;
let width = null;

// важно: используйте круглые скобки
let area = (height ?? 100) * (width ?? 50);

alert(area); // 5000
```

Или же, если без скобок, то движок будет считывать это так:
```js
// без круглых скобок
let area = height ?? 100 * width ?? 50;

// ...то же самое, что предыдущее выражение (вероятно, это не то, что нам нужно):
let area = height ?? (100 * width) ?? 50;
```

## Использование с && или ||

JS ограничивает использование оператора `??` вместе с `&&` или `||`.

```js
let x = 1 && 2 ?? 3; // Синтаксическая ошибка
```

Чтобы избежать ошибки, надо использовать группировку.

```js
let x = (1 && 2) ?? 3; // Работает без ошибок

alert(x); // 2
```
