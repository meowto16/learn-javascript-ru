# Общение между окнами

Политика «Одинакового источника» (Same Origin) ограничивает доступ окон и фреймов друг к другу.

Идея заключается в том, что если у пользователя открыто две страницы: 
`john-smith.com` и `gmail.com`, то у скрипта со страницы `john-smith.com` не будет возможности прочитать письма из `gmail.com`.

> Два URL имеют «одинаковый источник» в том случае, если они имеют совпадающие протокол, домен и порт.

## Доступ к содержимому iframe

Внутри `<iframe>` находится по сути отдельное окно с 
собственными объектами `document` и `window`.

Мы можем обращаться к ним, используя свойства:

- `iframe.contentWindow` ссылка на объект `window` внутри `<iframe>`.
- `iframe.contentDocument` – ссылка на объект `document` внутри `<iframe>`, короткая запись для `iframe.contentWindow.document`.

## Окна на поддоменах: document.domain

Если в окнах открыты страницы с поддоменов одного домена 2-го уровня, 
например `john.site.com`, `peter.site.com` и `site.com` (так что их общий домен `site.com`), 
то можно заставить браузер игнорировать это отличие. Так что браузер сможет считать их пришедшими с одного источника 
при проверке возможности доступа друг к другу.

Для этого в каждом таком окне нужно запустить:

```javascript
document.domain = 'site.com';
```

