# Изменение документа

## Создание элемента

DOM-узел можно создать двумя методами:

- `document.createElement(tag)` - Создаёт новый элемент с заданным тегом
- `document.createTextNode(text)` - Создаёт новый текстовый узел с заданным текстом

Вот методы для различных вариантов вставки:

- `node.append(...nodes or strings)` – добавляет узлы или строки в конец node,
- `node.prepend(...nodes or strings)` – вставляет узлы или строки в начало node,
- `node.before(...nodes or strings)` –- вставляет узлы или строки до node,
- `node.after(...nodes or strings)` –- вставляет узлы или строки после node,
- `node.replaceWith(...nodes or strings)` –- заменяет node заданными узлами или строками.

## insertAdjacentHTML/Text/Element

Первый параметр – это специальное слово, указывающее, куда по отношению к elem производить вставку. Значение должно быть одним из следующих:

- `beforebegin` – вставить `html` непосредственно перед `elem`,
- `afterbegin` – вставить `html` в начало `elem`,
- `beforeend` – вставить `html` в конец `elem`,
- `afterend` – вставить `html` непосредственно после `elem`.

Второй параметр – это HTML-строка, которая будет вставлена именно «как HTML».

У метода есть два брата:

- `elem.insertAdjacentText(where, text)` – такой же синтаксис, но строка `text` вставляется «как текст», вместо `HTML`,
- `elem.insertAdjacentElement(where, elem)` – такой же синтаксис, но вставляет элемент elem.

## Удаление узлов

Для удаления узла есть методы `node.remove()`.

> Если нам нужно переместить элемент в другое место – нет необходимости удалять его со старого.
> 
> Все методы вставки автоматически удаляют узлы со старых мест.

## Клонирование узлов: cloneNode

Вызов `elem.cloneNode(true)` создаёт «глубокий» клон элемента – со всеми атрибутами и дочерними элементами. 
Если мы вызовем `elem.cloneNode(false)`, тогда клон будет без дочерних элементов.

## DocumentFragment

DocumentFragment является специальным DOM-узлом, который служит обёрткой для передачи списков узлов.

Мы можем добавить к нему другие узлы, но когда мы вставляем его куда-то, он «исчезает», вместо него вставляется его 
содержимое.

## Устаревшие методы вставки/удаления

- `parentElem.appendChild(node)` - Добавляет `node` в конец дочерних элементов `parentElem`.
- `parentElem.insertBefore(node, nextSibling)` - Вставляет `node` перед `nextSibling` в `parentElem`.
- `parentElem.replaceChild(node, oldChild)` - Заменяет `oldChild` на `node` среди дочерних элементов `parentElem`.
- `parentElem.removeChild(node)` - Удаляет `node` из `parentElem`

## Несколько слов о «document.write»

Чтобы добавить HTML на страницу до завершения её загрузки: `document.write(html)`

После загрузки страницы такой вызов затирает документ. В основном встречается в старых скриптах.